{# @var ea \EasyCorp\Bundle\EasyAdminBundle\Context\AdminContext #}
{# @var field \EasyCorp\Bundle\EasyAdminBundle\Dto\FieldDto #}
{# @var entity \EasyCorp\Bundle\EasyAdminBundle\Dto\EntityDto #}
{% if (ea.crud.currentAction == 'index') or (field.value is empty) %}
    <span>{{ field.value | length }} exchange(s)</span>
{% else %}
    <a href="{{ ea_url()
        .setController('App\\Controller\\Admin\\ExchangeCrudController')
        .setAction('index')
        .set('filters[balance_to][value]', entity.primaryKeyValue)
        .set('filters[balance_to][comparison]', '=')
        .unset('entityId')
    }}">
        {{ field.value | length }} exchange(s)
    </a>
{% endif %}
